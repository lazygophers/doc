(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["403"],{40916:function(e,n,t){"use strict";t.r(n),t("40777");var a=t("85893"),o=t("50065");let r="\u914D\u7F6E\u6587\u4EF6";function s(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",ul:"ul",li:"li",pre:"pre"},(0,o.ah)(),e.components),{SourceCode:t}=n;return!t&&function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("SourceCode",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.h1,{id:"",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#",children:"#"}),r,(0,a.jsx)(t,{href:"https://cdn.jsdelivr.net/gh/lazygophers/codegen@master/example.codegen.cfg.yaml"})]}),"\n",(0,a.jsxs)(n.p,{children:["\u914D\u7F6E\u6587\u4EF6\u540D ",(0,a.jsx)(n.code,{children:"codegen.cfg.yaml"})]}),"\n",(0,a.jsx)(n.p,{children:"\u4F1A\u4F9D\u6B21\u5728\u4EE5\u4E0B\u8DEF\u5F84\u4F9D\u6B21\u67E5\u627E\uFF0C\u5982\u679C\u6CA1\u6709\u627E\u5230\u5219\u4F7F\u7528\u9ED8\u8BA4\u914D\u7F6E"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u73AF\u5883\u53D8\u91CF\uFF08LAZYGO_CODEGEN_CONFIG_FILE\uFF09"}),"\n",(0,a.jsx)(n.li,{children:"\u7528\u6237\u914D\u7F6E\u8DEF\u5F84\uFF08/root/.config/lazygophers\uFF09"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yml",meta:"title=codegen.cfg.yaml",children:'protoc_path: "<protoc\u7684\u7EDD\u5BF9\u8DEF\u5F84>"\nprotogen_go_path: "<protoc-gen-go\u7684\u7EDD\u5BF9\u8DEF\u5F84>"\n\n# \u751F\u6210\u7684\u4EE3\u7801\u7684\u76EE\u5F55\uFF0C\u5373 protoc \u6267\u884C\u7684\u8DEF\u5F84\uFF0C\u5B9E\u9645\u751F\u6210\u7684\u4EE3\u7801\u5C06\u4F1A\u653E\u5728 <output_path>/<go_package> \u4E0B\n# \u5982\u679C\u4E0D\u6307\u5B9A\uFF0C\u9ED8\u8BA4\u89C4\u5219\u4E3A <proto_file_path>/../<go_package>\noutput_path: "<\u751F\u6210\u7684\u4EE3\u7801\u7684\u76EE\u5F55>"\ngo_module_prefix: "<go module\u7684\u524D\u7F00\uFF0C\u5728\u751F\u6210\u65F6\u4F1A\u62FC\u63A5proto\u4E2D\u7684 go_package \u5B57\u6BB5\u5F53\u505A\u5305\u540D>"\n\n# \u4E0D\u5728 \u6307\u5B9A proto \u6587\u4EF6\u6240\u5728\u76EE\u5F55\u7684\u5176\u5B83\u88AB\u5F15\u7528\u7684\u5305\u8DEF\u5F84\n#	\u652F\u6301\u7EDD\u5BF9\u8DEF\u5F84\u3001\u76F8\u5BF9\u751F\u6210\u8DEF\u5F84 (\u76F8\u5BF9\u4E8E output_path)\nproto_files:\n    - "./core/"\n    - "~/proto/"\n\n# \u81EA\u5B9A\u4E49\u6A21\u7248\u6587\u4EF6\uFF0C\u8981\u6C42 .gtpl \u683C\u5F0F\ntemplate:\n    # .editorconfig \u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\uFF0C\u7528\u4E8E IDE \u7684\u9ED8\u8BA4\u683C\u5F0F\u5316\n    editorconfig: "<.editorconfig \u6587\u4EF6\u8DEF\u5F84\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\u5219\u4F7F\u7528\u9ED8\u8BA4>"\n    # orm.go \u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\uFF0C\u7528\u4E8E gorm \u7684\u76F8\u5173\u6570\u636E\u751F\u6210\n    orm: "<orm.go \u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\u5219\u662F\u4F7F\u7528\u9ED8\u8BA4>"\n    # table_name.go \u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\uFF0C\u7528\u4E8E gorm \u7684\u76F8\u5173\u8868\u540D\n    table_name: "<table_name.go \u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\u5219\u662F\u4F7F\u7528\u9ED8\u8BA4>"\n\n    # .proto \u6587\u4EF6\u76F8\u5173\u7684\u6A21\u677F\u6587\u4EF6\n    proto:\n        # rpc \u670D\u52A1\u7684\u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\n        service: "proto.service \u7684\u6A21\u677F\u6587\u4EF6\u8DEF\u5F84"\n\n        # rpc \u76F8\u5173\u7684\n        rpc:\n            # key \u2192 action value \u2192 \u6A21\u7248\u6587\u4EF6\u8DEF\u5F84\n            add:\n                name: "rpc \u540D\u5B57\u7684\u751F\u6210\u6A21\u677F"\n                req: "message.request \u751F\u6210\u6A21\u677F"\n                resp: "messsage.response \u751F\u6210\u6A21\u677F"\n            set:\n                name: "rpc \u540D\u5B57\u7684\u751F\u6210\u6A21\u677F"\n                req: "message.request \u751F\u6210\u6A21\u677F"\n                resp: "messsage.response \u751F\u6210\u6A21\u677F"\n            update:\n                name: "rpc \u540D\u5B57\u7684\u751F\u6210\u6A21\u677F"\n                req: "message.request \u751F\u6210\u6A21\u677F"\n                resp: "messsage.response \u751F\u6210\u6A21\u677F"\n            del:\n                name: "rpc \u540D\u5B57\u7684\u751F\u6210\u6A21\u677F"\n                req: "message.request \u751F\u6210\u6A21\u677F"\n                resp: "messsage.response \u751F\u6210\u6A21\u677F"\n            # \u5982\u679C key \u4E3A list\uFF0C\u4F1A\u89E6\u53D1\u7B5B\u9009\u9879\u7684\u751F\u8FB0\n            list:\n                name: "rpc \u540D\u5B57\u7684\u751F\u6210\u6A21\u677F"\n                req: "message.request \u751F\u6210\u6A21\u677F"\n                resp: "messsage.response \u751F\u6210\u6A21\u677F"\n\n    # state/table.go \u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\n    table: "<state/table.go \u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\u5219\u662F\u4F7F\u7528\u9ED8\u8BA4>"\n    # state/conf.go \u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\n    conf: "<state/conf.go \u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\u5219\u662F\u4F7F\u7528\u9ED8\u8BA4>"\n    # state/cache.go \u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\n    cache: "<state/cache.go \u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\u5219\u662F\u4F7F\u7528\u9ED8\u8BA4>"\n    # state/state.go \u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\n    state: "<state/state.go \u6A21\u677F\u6587\u4EF6\u8DEF\u5F84\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\u5219\u662F\u4F7F\u7528\u9ED8\u8BA4>"\n\n# \u9ED8\u8BA4\u7684\u6807\u7B7E\uFF0C\u4F1A\u8FFD\u52A0\u5230\u539F\u59CB\u6807\u7B7E\u4E2D\uFF0Ckey \u4E3A\u6807\u7B7E\u540D, value.key \u4E3A\u5B57\u6BB5\u540D, value.value \u4E3A\u6807\u7B7E\u503C\ndefault_tag:\n    gorm:\n        id: "column:id;primaryKey;autoIncrement;not null"\n        created_at: "column:created_at;<-:create;autoCreateTime;not null"\n        updated_at: "column:updated_at;<-;autoUpdateTime;not null"\n        deleted_at: "column:deleted_at;autoDeleteTime"\n        name: "type:varchar(255);not null"\n        username: "type:varchar(255);not null"\n        email: "type:varchar(255);not null"\n    validate:\n        name: "required,max=200,min=2"\n        username: "required,max=100"\n        email: "required,email"\n\n# \u6570\u636E\u8868\u76F8\u5173\u7684\u914D\u7F6E\ntables:\n    # \u662F\u5426\u5173\u95ED\uFF0C\u9ED8\u8BA4\u4E3A\u4E3A false\uFF0C\u5982\u679C\u5355\u72EC\u4F7F\u7528\u547D\u4EE4\uFF0C\u5219\u4E0D\u4F1A\u751F\u6548\n    disable: false\n\n    # \u662F\u5426\u5173\u95ED\u81EA\u52A8\u751F\u6210\u7684 gorm tag\uFF0C\u9ED8\u8BA4\u4E3A false\n    # \u5173\u95ED\u81EA\u52A8\u751F\u6210 id \u76F8\u5173\u7684gorm tag\uFF0C\u9ED8\u8BA4\u4E3A false\n    disable_field_id: false\n    # \u5173\u95ED\u81EA\u52A8\u751F\u6210 created_at \u7684gorm tag\uFF0C\u9ED8\u8BA4\u4E3A false\n    disable_field_created_at: false\n    # \u5173\u95ED\u81EA\u52A8\u751F\u6210 updated_at \u7684gorm tag\uFF0C\u9ED8\u8BA4\u4E3A false\n    disable_field_updated_at: false\n    # \u5173\u95ED\u81EA\u52A8\u751F\u6210 deleted_at \u7684gorm tag\uFF0C\u9ED8\u8BA4\u4E3A false\n    disable_field_deleted_at: false\n    # \u5173\u95ED\u81EA\u52A8\u751F\u6210 column \u7684gorm tag\uFF0C\u9ED8\u8BA4\u4E3A false\n    disable_gorm_tag_column: false\n\n'})})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,o.ah)(),e.components);return n?(0,a.jsx)(n,Object.assign({},e,{children:(0,a.jsx)(s,e)})):s(e)}n.default=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["document%2F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.mdx"]={toc:[],title:"\u914D\u7F6E\u6587\u4EF6",frontmatter:{pageType:"doc",title:"\u914D\u7F6E\u6587\u4EF6",sidebar:!0,outline:!0,footer:!0}}}}]);